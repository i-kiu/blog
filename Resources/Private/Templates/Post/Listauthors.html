<f:layout name="Default" />
<f:section name="Content">

    <f:if condition="{authors}">
        <div class="postauthors">
            <div><input id="search-author-input" placeholder="Suche nach AutorIn"></div>
            <f:for each="{authors}" as="author">
                <f:render partial="Post/Author" arguments="{_all}" />
            </f:for>
            <div id="search-author-notfound" style="display: none">
                Es wurde kein/e AutorInn gefunden
            </div>
        </div>
        <f:asset.script identifier="search-author">


            $("#search-author-input").keyup(function(){
            var selectSize = $(this).val();
            filter(selectSize.toLowerCase());
            });

            function filter(e) {
            $('#search-author-notfound').hide();
            var regex = new RegExp('\\b\\w*' + e + '\\w*\\b');
            var found= $('.postauthor').hide().filter(function () {
            return regex.test($(this).data('authorName').toLowerCase())
            }).show();
            if(found.length<1){
            $('#search-author-notfound').show();
            }
            console.log(found.length);
            }

        </f:asset.script>
    </f:if>

</f:section>
